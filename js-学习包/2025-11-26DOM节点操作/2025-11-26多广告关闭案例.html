 <!--DOM 节点操作：多广告关闭案例
1.案例需求
实现多个广告盒子（`.box1`）的关闭功能：点击每个广告右上角的 `X` 按钮（`.box`），精准隐藏对应的广告盒子。

 2. 鼠标样式控制
`cursor: pointer;`：让元素悬浮时鼠标变成“小手”，提示可点击（核心用于关闭按钮）。

 3. 定位上下文
父元素设置 `position: relative;`，子元素（关闭按钮）设置 `position: absolute;`，可让按钮相对于父广告盒定位，避免全局重叠。
--> 

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>多广告关闭案例</title>
    <style>
/* 广告盒子样式 */
.box1 {
  margin: 20px auto; /* 上下间距，避免盒子重叠 */
  position: relative; /* 建立定位上下文，让子按钮相对自身定位 */
  width: 400px;
  height: 200px;
  background-color: pink;
}
/* 关闭按钮样式 */
.box {
  width: 20px;
  height: 20px;
  color: white;
  background-color: black; /* 背景色让X可见 */
  text-align: center; /* 文字水平居中 */
  line-height: 20px; /* 文字垂直居中 */
  position: absolute; /* 绝对定位到广告盒右上角 */
  right: 20px;
  top: 20px;
  cursor: pointer; /* 鼠标悬浮变小手，提示可点击 */
  border-radius: 50%; /* 圆形按钮（可选） */
}
    </style>
</head>
<body>

    <!-- 测试节点关系的示例结构 -->
    <div class="dad">
        <div class="baby"></div>
    </div>

    <!-- 广告盒子1 -->
    <div class="box1">
        <div class="box">X</div>
        <h3>我是广告</h3>
    </div>
    <!-- 广告盒子2 -->
    <div class="box1">
        <div class="box">X</div>
        <h3>我是广告</h3>
    </div>
    <!-- 广告盒子3 -->
    <div class="box1">
        <div class="box">X</div>
        <h3>我是广告</h3>
    </div>

    <script>
        // 1. 基础节点关系演示：子节点获取父节点
        const baby = document.querySelector('.baby')
        console.log(baby.parentNode); // 输出 <div class="dad"></div>

        // 2. 多广告关闭核心逻辑
        // 获取所有关闭按钮（伪数组）
        const boxs = document.querySelectorAll('.box')
        // 遍历所有按钮，绑定点击事件
        for(let i = 0; i < boxs.length; i++){
            boxs[i].addEventListener('click', function(){
                // 方式1：通过parentNode获取当前按钮的父广告盒，隐藏
                this.parentNode.style.display = 'none';
                
                // 方式2：更鲁棒的写法（推荐），避免DOM结构变动失效
                // this.closest('.box1').style.display = 'none';
            })
        }

        // 补充：其他节点操作语法
        // 父找子：获取dad下的所有子元素
        // const dadChildren = document.querySelector('.dad').children;
        // 找兄弟：获取baby的下一个兄弟节点（本例无）
        // const babySibling = baby.nextElementSibling;
    </script>
</body>
</html>
